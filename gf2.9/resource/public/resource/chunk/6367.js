"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[6367],{"6367":function(A){A.exports=JSON.parse('{"version":3,"names":["indexCss","Navigator","prototype","onClick","_a","this","openType","onSuccess","onFail","onComplete","promise","Promise","resolve","Taro","navigateTo","url","redirectTo","switchTab","reLaunch","navigateBack","delta","reject","Error","then","res","emit","catch","finally","render","_b","isHover","hoverClass","h","Host","class","classNames"],"sources":["src/components/navigator/style/index.scss?tag=taro-navigator-core","src/components/navigator/navigator.tsx"],"sourcesContent":[".navigator-hover {\\r\\n  background: #efefef;\\r\\n}\\r\\n","import { Component, Prop, h, ComponentInterface, Host, Listen, Event, EventEmitter } from \'@stencil/core\'\\nimport Taro from \'@tarojs/taro\'\\nimport classNames from \'classnames\'\\n\\n/**\\n * Navigator组件参数\\n * @typedef NavigatorProps\\n * @property {String} appId 当target=\\"miniProgram\\"时有效，要打开的小程序 appId\\n * @property {String} ariaLabel 无障碍访问，（属性）元素的额外描述\\n * @property {Number} delta 当 openType 为 \'navigateBack\' 时有效，表示回退的层数\\n * @property {Object} extraData 当target=\\"miniProgram\\"时有效，需要传递给目标小程序的数据，目标小程序可在 App.onLaunch()，App.onShow() 中获取到这份数据。详情\\n * @property {String} [openType=navigate]  跳转方式\\n * @property {String} path 当target=\\"miniProgram\\"时有效，打开的页面路径，如果为空则打开首页\\n * @property {String} [target=self]  在哪个目标上发生跳转，默认当前小程序，可选值self/miniProgram\\n * @property {String} url 当前小程序内的跳转链接\\n * @property {version} [version=release]  当target=\\"miniProgram\\"时有效，要打开的小程序版本，有效值 develop（开发版），trial（体验版），release（正式版），仅在当前小程序为开发版或体验版时此参数有效；如果当前小程序是 *式版，则打开的小程序必定是正式版。\\n * @property {String} onFail 当target=\\"miniProgram\\"时有效，跳转小程序失败\\n * @property {String} onComplete 当target=\\"miniProgram\\"时有效，跳转小程序完成\\n * @property {String} onSuccess 当target=\\"miniProgram\\"时有效，跳转小程序成功\\n */\\n\\n/**\\n * TODO: 参数还需要进一步细化对齐\\n * Navigator组件\\n * https://developers.weixin.qq.com/miniprogram/dev/component/navigator.html\\n **/\\n\\n@Component({\\n  tag: \'taro-navigator-core\',\\n  styleUrl: \'./style/index.scss\'\\n})\\nexport class Navigator implements ComponentInterface {\\n  @Prop() hoverClass: string\\n  @Prop() url: string\\n  @Prop() openType = \'navigate\'\\n  @Prop() isHover = false\\n  @Prop() delta = 0\\n\\n  @Event({\\n    eventName: \'cuccess\'\\n  }) onSuccess: EventEmitter\\n\\n  @Event({\\n    eventName: \'fail\'\\n  }) onFail: EventEmitter\\n\\n  @Event({\\n    eventName: \'Complete\'\\n  }) onComplete: EventEmitter\\n\\n  @Listen(\'click\')\\n  onClick () {\\n    const { openType, onSuccess, onFail, onComplete } = this\\n    let promise: Promise<any> = Promise.resolve()\\n    switch (openType) {\\n      case \'navigate\':\\n        promise = Taro.navigateTo({\\n          url: this.url\\n        })\\n        break\\n      case \'redirect\':\\n        promise = Taro.redirectTo({\\n          url: this.url\\n        })\\n        break\\n      case \'switchTab\':\\n        promise = Taro.switchTab({\\n          url: this.url\\n        })\\n        break\\n      case \'reLaunch\':\\n        promise = Taro.reLaunch({\\n          url: this.url\\n        })\\n        break\\n      case \'navigateBack\':\\n        promise = Taro.navigateBack({\\n          delta: this.delta\\n        })\\n        break\\n      case \'exit\':\\n        promise = Promise.reject(new Error(\'navigator:fail 暂不支持\\"openType: exit\\"\'))\\n        break\\n    }\\n    if (promise) {\\n      promise.then(res => {\\n        onSuccess.emit(res)\\n      }).catch(res => {\\n        onFail.emit(res)\\n      }).finally(() => {\\n        onComplete.emit()\\n      })\\n    }\\n  }\\n\\n  render () {\\n    const { isHover, hoverClass } = this\\n\\n    return (\\n      <Host\\n        class={classNames({\\n          [hoverClass]: isHover\\n        })}\\n      />\\n    )\\n  }\\n}\\n"],"mappings":"oKAAA,IAAMA,SAAW,uC,IC+BJC,UAAS,W,qOAGD,W,aACD,M,WACF,C,CAehBA,EAAAC,UAAAC,QAAA,WACQ,IAAAC,EAA8CC,KAA5CC,EAAQF,EAAAE,SAAEC,EAASH,EAAAG,UAAEC,EAAMJ,EAAAI,OAAEC,EAAUL,EAAAK,WAC/C,IAAIC,EAAwBC,QAAQC,UACpC,OAAQN,GACN,IAAK,WACHI,EAAUG,KAAKC,WAAW,CACxBC,IAAKV,KAAKU,MAEZ,MACF,IAAK,WACHL,EAAUG,KAAKG,WAAW,CACxBD,IAAKV,KAAKU,MAEZ,MACF,IAAK,YACHL,EAAUG,KAAKI,UAAU,CACvBF,IAAKV,KAAKU,MAEZ,MACF,IAAK,WACHL,EAAUG,KAAKK,SAAS,CACtBH,IAAKV,KAAKU,MAEZ,MACF,IAAK,eACHL,EAAUG,KAAKM,aAAa,CAC1BC,MAAOf,KAAKe,QAEd,MACF,IAAK,OACHV,EAAUC,QAAQU,OAAO,IAAIC,MAAM,wCACnC,MAEJ,GAAIZ,EAAS,CACXA,EAAQa,MAAK,SAAAC,GACXjB,EAAUkB,KAAKD,E,IACdE,OAAM,SAAAF,GACPhB,EAAOiB,KAAKD,E,IACXG,SAAQ,WACTlB,EAAWgB,M,MAKjBxB,EAAAC,UAAA0B,OAAA,W,MACQ,IAAAC,EAA0BxB,KAAxByB,EAAOD,EAAAC,QAAEC,EAAUF,EAAAE,WAE3B,OACEC,EAACC,KAAI,CACHC,MAAOC,YAAU/B,EAAA,GACfA,EAAC2B,GAAaD,E,gBAtEF,G"}')}}]);